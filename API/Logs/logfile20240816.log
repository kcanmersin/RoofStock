2024-08-16 10:33:20.213 +03:00 [INF] Start installing Hangfire SQL objects...
2024-08-16 10:33:20.667 +03:00 [INF] Hangfire SQL objects installed.
2024-08-16 10:33:20.685 +03:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: stockflowDB, Schema: hangfire'
2024-08-16 10:33:20.687 +03:00 [INF] Using the following options for PostgreSQL job storage:
2024-08-16 10:33:20.688 +03:00 [INF]     Queue poll interval: 00:00:15.
2024-08-16 10:33:20.690 +03:00 [INF]     Invisibility timeout: 00:30:00.
2024-08-16 10:33:20.691 +03:00 [INF]     Use sliding invisibility timeout: False.
2024-08-16 10:33:20.693 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 60
    Listening queues: 'high-priority', 'low-priority'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-08-16 10:33:21.102 +03:00 [INF] Server desktop-ihebt3k:15464:4f8cc8cd successfully announced in 363,5265 ms
2024-08-16 10:33:21.111 +03:00 [INF] Server desktop-ihebt3k:15464:4f8cc8cd is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-08-16 11:04:23.575 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-08-16 11:04:23.753 +03:00 [INF] Start installing Hangfire SQL objects...
2024-08-16 11:04:24.110 +03:00 [INF] Hangfire SQL objects installed.
2024-08-16 11:04:24.124 +03:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: stockflowDB, Schema: hangfire'
2024-08-16 11:04:24.125 +03:00 [INF] Using the following options for PostgreSQL job storage:
2024-08-16 11:04:24.126 +03:00 [INF]     Queue poll interval: 00:00:15.
2024-08-16 11:04:24.126 +03:00 [INF]     Invisibility timeout: 00:30:00.
2024-08-16 11:04:24.127 +03:00 [INF]     Use sliding invisibility timeout: False.
2024-08-16 11:04:24.128 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 60
    Listening queues: 'high-priority', 'low-priority'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-08-16 11:04:24.260 +03:00 [INF] Server desktop-ihebt3k:24760:f6e78da1 successfully announced in 108,9862 ms
2024-08-16 11:04:24.267 +03:00 [INF] Server desktop-ihebt3k:24760:f6e78da1 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-08-16 11:04:24.555 +03:00 [INF] Server desktop-ihebt3k:24760:f6e78da1 all the dispatchers started
2024-08-16 11:04:24.783 +03:00 [INF] User profile is available. Using 'C:\Users\KC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-16 11:04:24.838 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-08-16 11:04:24.839 +03:00 [INF] Quartz Scheduler created
2024-08-16 11:04:24.840 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2024-08-16 11:04:24.841 +03:00 [INF] RAMJobStore initialized.
2024-08-16 11:04:24.842 +03:00 [INF] Quartz Scheduler 3.13.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-08-16 11:04:24.842 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-08-16 11:04:24.843 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-08-16 11:04:24.852 +03:00 [INF] Adding 1 jobs, 1 triggers.
2024-08-16 11:04:24.854 +03:00 [INF] Adding job: DEFAULT.DeleteUnconfirmedUsersJob
2024-08-16 11:04:25.063 +03:00 [INF] Now listening on: http://localhost:5285
2024-08-16 11:04:25.065 +03:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: stockflowDB, Schema: hangfire'
2024-08-16 11:04:25.066 +03:00 [INF] Using the following options for PostgreSQL job storage:
2024-08-16 11:04:25.066 +03:00 [INF]     Queue poll interval: 00:00:15.
2024-08-16 11:04:25.067 +03:00 [INF]     Invisibility timeout: 00:30:00.
2024-08-16 11:04:25.067 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2024-08-16 11:04:25.068 +03:00 [INF]     Use sliding invisibility timeout: False.
2024-08-16 11:04:25.069 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-08-16 11:04:25.075 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-16 11:04:25.076 +03:00 [INF] Hosting environment: Development
2024-08-16 11:04:25.077 +03:00 [INF] Content root path: C:\Users\KC\source\repos\StockFlow\API
2024-08-16 11:04:25.078 +03:00 [INF] Server desktop-ihebt3k:24760:091a8e1f successfully announced in 3,5117 ms
2024-08-16 11:04:25.080 +03:00 [INF] Server desktop-ihebt3k:24760:091a8e1f is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-08-16 11:04:25.242 +03:00 [INF] Server desktop-ihebt3k:24760:091a8e1f all the dispatchers started
2024-08-16 11:04:25.822 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/swagger/index.html - null null
2024-08-16 11:04:26.049 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 93.6852 ms
2024-08-16 11:04:26.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/swagger/index.html - 200 null text/html;charset=utf-8 237.6548ms
2024-08-16 11:04:26.058 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/swagger/index.js - null null
2024-08-16 11:04:26.059 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/_vs/browserLink - null null
2024-08-16 11:04:26.058 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/_framework/aspnetcore-browser-refresh.js - null null
2024-08-16 11:04:26.067 +03:00 [INF] HTTP GET /swagger/index.js responded 200 in 1.5824 ms
2024-08-16 11:04:26.082 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/swagger/index.js - 200 null application/javascript;charset=utf-8 25.0462ms
2024-08-16 11:04:26.083 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 24.7725ms
2024-08-16 11:04:26.127 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.485ms
2024-08-16 11:04:26.276 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/swagger/v1/swagger.json - null null
2024-08-16 11:04:26.393 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 112.4731 ms
2024-08-16 11:04:26.399 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 122.8076ms
2024-08-16 11:04:31.825 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5285/api/deposit - application/json 92
2024-08-16 11:04:31.853 +03:00 [INF] Executing endpoint 'Core.Features.User.Deposit.DepositController.Deposit (API)'
2024-08-16 11:04:31.869 +03:00 [INF] Route matched with {action = "Deposit", controller = "Deposit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Deposit(Core.Features.Deposit.DepositRequest) on controller Core.Features.User.Deposit.DepositController (API).
2024-08-16 11:04:32.134 +03:00 [INF] Start processing HTTP request GET https://api.frankfurter.app/latest?amount=100&from=TRY&to=USD
2024-08-16 11:04:32.137 +03:00 [INF] Sending HTTP request GET https://api.frankfurter.app/latest?amount=100&from=TRY&to=USD
2024-08-16 11:04:32.412 +03:00 [INF] Received HTTP response headers after 271.9145ms - 200
2024-08-16 11:04:32.415 +03:00 [INF] End processing HTTP request after 284.185ms - 200
2024-08-16 11:04:32.773 +03:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Balance", a."ConcurrencyStamp", a."Email", a."EmailConfirmationSentAt", a."EmailConfirmationToken", a."EmailConfirmed", a."FirstName", a."ImagePath", a."IsEmailConfirmed", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__get_Item_0
LIMIT 1
2024-08-16 11:04:32.820 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Core.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "AspNetUsers" does not exist

POSITION: 430
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "AspNetUsers" does not exist
    Position: 430
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "AspNetUsers" does not exist

POSITION: 430
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "AspNetUsers" does not exist
    Position: 430
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
2024-08-16 11:04:32.928 +03:00 [INF] Executed action Core.Features.User.Deposit.DepositController.Deposit (API) in 1053.1899ms
2024-08-16 11:04:32.929 +03:00 [INF] Executed endpoint 'Core.Features.User.Deposit.DepositController.Deposit (API)'
2024-08-16 11:04:32.932 +03:00 [ERR] HTTP POST /api/deposit responded 500 in 1104.4853 ms
Npgsql.PostgresException (0x80004005): 42P01: relation "AspNetUsers" does not exist

POSITION: 430
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at DepositHandler.Handle(DepositCommand request, CancellationToken cancellationToken) in C:\Users\KC\source\repos\StockFlow\Core\Features\Deposit\DepositHandler.cs:line 50
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Core.Features.User.Deposit.DepositController.Deposit(DepositRequest request) in C:\Users\KC\source\repos\StockFlow\API\Controllers\DepositController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "AspNetUsers" does not exist
    Position: 430
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
2024-08-16 11:04:32.963 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42P01: relation "AspNetUsers" does not exist

POSITION: 430
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at DepositHandler.Handle(DepositCommand request, CancellationToken cancellationToken) in C:\Users\KC\source\repos\StockFlow\Core\Features\Deposit\DepositHandler.cs:line 50
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Core.Features.User.Deposit.DepositController.Deposit(DepositRequest request) in C:\Users\KC\source\repos\StockFlow\API\Controllers\DepositController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "AspNetUsers" does not exist
    Position: 430
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
2024-08-16 11:04:32.987 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5285/api/deposit - 500 null text/plain; charset=utf-8 1161.7912ms
2024-08-16 13:01:24.911 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-08-16 13:01:24.971 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-08-16 13:01:25.054 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2024-08-16 13:01:25.068 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-08-16 13:01:25.072 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-08-16 13:01:25.085 +03:00 [INF] Applying migration '20240816094404_XX'.
2024-08-16 13:01:25.164 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" uuid NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2024-08-16 13:01:25.174 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" uuid NOT NULL,
    "UserName" character varying(100) NOT NULL,
    "FirstName" character varying(50) NOT NULL,
    "LastName" character varying(50) NOT NULL,
    "Email" character varying(100) NOT NULL,
    "Balance" numeric(18,2) NOT NULL DEFAULT 0.0,
    "ImagePath" text NOT NULL,
    "IsEmailConfirmed" boolean NOT NULL,
    "EmailConfirmationToken" text,
    "EmailConfirmationSentAt" timestamp with time zone,
    "NormalizedUserName" character varying(100),
    "NormalizedEmail" character varying(100),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2024-08-16 13:01:25.183 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" uuid NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2024-08-16 13:01:25.190 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" uuid NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 13:01:25.197 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" character varying(128) NOT NULL,
    "ProviderKey" character varying(128) NOT NULL,
    "ProviderDisplayName" text,
    "UserId" uuid NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 13:01:25.202 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" uuid NOT NULL,
    "RoleId" uuid NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 13:01:25.209 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" uuid NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 13:01:25.215 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Orders" (
    "Id" uuid NOT NULL,
    "StockSymbol" text NOT NULL,
    "Quantity" integer NOT NULL,
    "TargetPrice" numeric NOT NULL,
    "UserId" uuid NOT NULL,
    "OrderType" integer NOT NULL,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_Orders" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Orders_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 13:01:25.223 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "StockHoldings" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "StockSymbol" character varying(6) NOT NULL,
    "Quantity" integer NOT NULL,
    "TotalPurchasePrice" numeric(18,2) NOT NULL,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_StockHoldings" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_StockHoldings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 13:01:25.233 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "StockPriceAlerts" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "StockSymbol" character varying(10) NOT NULL,
    "TargetPrice" numeric(18,2) NOT NULL,
    "IsTriggered" boolean NOT NULL,
    "TriggeredDate" timestamp with time zone,
    "AlertType" integer NOT NULL,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_StockPriceAlerts" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_StockPriceAlerts_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 13:01:25.240 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "OrderProcesses" (
    "Id" uuid NOT NULL,
    "OrderId" uuid NOT NULL,
    "Status" integer NOT NULL DEFAULT 0,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_OrderProcesses" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_OrderProcesses_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES "Orders" ("Id") ON DELETE CASCADE
);
2024-08-16 13:01:25.248 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "StockHoldingItems" (
    "Id" uuid NOT NULL,
    "StockSymbol" character varying(6) NOT NULL,
    "Quantity" integer NOT NULL,
    "UnitPrice" numeric(18,2) NOT NULL,
    "Type" integer NOT NULL,
    "OrderProcessId" uuid,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_StockHoldingItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_StockHoldingItems_OrderProcesses_OrderProcessId" FOREIGN KEY ("OrderProcessId") REFERENCES "OrderProcesses" ("Id")
);
2024-08-16 13:01:25.258 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Transactions" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "Amount" numeric(18,2) NOT NULL,
    "Type" integer NOT NULL,
    "Description" character varying(500) NOT NULL,
    "StockHoldingItemId" uuid,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_Transactions" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Transactions_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Transactions_StockHoldingItems_StockHoldingItemId" FOREIGN KEY ("StockHoldingItemId") REFERENCES "StockHoldingItems" ("Id")
);
2024-08-16 13:01:25.266 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES ('16ea936c-7a28-4c30-86a2-9a9704b6115e', 'fb87a7a5-adb9-4625-ac83-1041f1b09f32', 'Superadmin', 'SUPERADMIN');
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES ('7cb750cf-3612-4fb4-9f7d-a38ba8f16bf4', 'b242f89b-33b5-4ab9-a865-7be7553b9388', 'Admin', 'ADMIN');
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES ('edf6c246-41d8-475f-8d92-41dddac3aefb', 'df46c7f4-ddc8-49ff-87d8-4ac809f91418', 'User', 'USER');
2024-08-16 13:01:25.270 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Balance", "ConcurrencyStamp", "Email", "EmailConfirmationSentAt", "EmailConfirmationToken", "EmailConfirmed", "FirstName", "ImagePath", "IsEmailConfirmed", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES ('3aa42229-1c0f-4630-8c1a-db879ecd0427', 0, 1000000.0, 'd1c16bec-4847-4dff-aaef-f27c10fc3b8e', 'admin@gmail.com', TIMESTAMPTZ '2024-08-16T09:44:04.322394Z', 'bf65cd9d-44dc-4d65-bed6-69dd69f7a8b7', FALSE, 'Admin', 'API\deflogo.jpg', FALSE, 'User', FALSE, NULL, 'ADMIN@GMAIL.COM', 'ADMIN@GMAIL.COM', 'AQAAAAIAAYagAAAAEHUa9380lu7+I+PNtGAK95N4SvDqlIPcmJIsTh03ZrWC4W3OWgqCSP/C/ns8wpINxg==', '+905439999988', FALSE, '8722e468-96d3-4fc1-be82-67ebef84d418', FALSE, 'admin@gmail.com');
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Balance", "ConcurrencyStamp", "Email", "EmailConfirmationSentAt", "EmailConfirmationToken", "EmailConfirmed", "FirstName", "ImagePath", "IsEmailConfirmed", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES ('cb94223b-ccb8-4f2f-93d7-0df96a7f065c', 0, 1000000.0, '5a769c4e-9cd6-4cb4-b850-5d077e913c5b', 'superadmin@gmail.com', TIMESTAMPTZ '2024-08-16T09:44:04.237693Z', 'ad454fd1-13a5-40c9-9223-6f0a4baf8740', TRUE, 'Can', 'API\deflogo.jpg', FALSE, 'Mersin', FALSE, NULL, 'SUPERADMIN@GMAIL.COM', 'SUPERADMIN@GMAIL.COM', 'AQAAAAIAAYagAAAAEOShpAw5NtH1OqVOIOMIlO9n8oI/+SU3XRv/SW3jhf1R82SaMbyQBmtFlCPFBbM/YQ==', '+905439999999', TRUE, '2ab29ab4-15c1-4b21-8a88-34e7b0b8b706', FALSE, 'superadmin@gmail.com');
2024-08-16 13:01:25.274 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES ('7cb750cf-3612-4fb4-9f7d-a38ba8f16bf4', '3aa42229-1c0f-4630-8c1a-db879ecd0427');
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES ('16ea936c-7a28-4c30-86a2-9a9704b6115e', 'cb94223b-ccb8-4f2f-93d7-0df96a7f065c');
2024-08-16 13:01:25.279 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2024-08-16 13:01:25.284 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2024-08-16 13:01:25.288 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2024-08-16 13:01:25.292 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2024-08-16 13:01:25.297 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2024-08-16 13:01:25.302 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2024-08-16 13:01:25.306 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2024-08-16 13:01:25.311 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_OrderProcesses_OrderId" ON "OrderProcesses" ("OrderId");
2024-08-16 13:01:25.315 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Orders_UserId" ON "Orders" ("UserId");
2024-08-16 13:01:25.320 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_StockHoldingItems_OrderProcessId" ON "StockHoldingItems" ("OrderProcessId");
2024-08-16 13:01:25.324 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_StockHoldings_UserId" ON "StockHoldings" ("UserId");
2024-08-16 13:01:25.329 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_StockPriceAlerts_UserId" ON "StockPriceAlerts" ("UserId");
2024-08-16 13:01:25.333 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Transactions_StockHoldingItemId" ON "Transactions" ("StockHoldingItemId");
2024-08-16 13:01:25.336 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Transactions_UserId" ON "Transactions" ("UserId");
2024-08-16 13:01:25.339 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240816094404_XX', '8.0.8');
2024-08-16 13:01:25.513 +03:00 [INF] Start installing Hangfire SQL objects...
2024-08-16 13:01:25.854 +03:00 [INF] Hangfire SQL objects installed.
2024-08-16 13:01:25.868 +03:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: stockflowDB, Schema: hangfire'
2024-08-16 13:01:25.869 +03:00 [INF] Using the following options for PostgreSQL job storage:
2024-08-16 13:01:25.870 +03:00 [INF]     Queue poll interval: 00:00:15.
2024-08-16 13:01:25.872 +03:00 [INF]     Invisibility timeout: 00:30:00.
2024-08-16 13:01:25.873 +03:00 [INF]     Use sliding invisibility timeout: False.
2024-08-16 13:01:25.874 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 60
    Listening queues: 'high-priority', 'low-priority'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-08-16 13:01:25.995 +03:00 [INF] Server desktop-ihebt3k:12092:89538ed6 successfully announced in 95,0119 ms
2024-08-16 13:01:26.001 +03:00 [INF] Server desktop-ihebt3k:12092:89538ed6 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-08-16 13:01:26.292 +03:00 [INF] Server desktop-ihebt3k:12092:89538ed6 all the dispatchers started
2024-08-16 13:01:26.526 +03:00 [INF] User profile is available. Using 'C:\Users\KC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-16 13:01:26.571 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-08-16 13:01:26.572 +03:00 [INF] Quartz Scheduler created
2024-08-16 13:01:26.574 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2024-08-16 13:01:26.575 +03:00 [INF] RAMJobStore initialized.
2024-08-16 13:01:26.577 +03:00 [INF] Quartz Scheduler 3.13.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-08-16 13:01:26.578 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-08-16 13:01:26.579 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-08-16 13:01:26.594 +03:00 [INF] Adding 1 jobs, 1 triggers.
2024-08-16 13:01:26.597 +03:00 [INF] Adding job: DEFAULT.DeleteUnconfirmedUsersJob
2024-08-16 13:01:26.751 +03:00 [INF] Now listening on: http://localhost:5285
2024-08-16 13:01:26.752 +03:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: stockflowDB, Schema: hangfire'
2024-08-16 13:01:26.753 +03:00 [INF] Using the following options for PostgreSQL job storage:
2024-08-16 13:01:26.754 +03:00 [INF]     Queue poll interval: 00:00:15.
2024-08-16 13:01:26.754 +03:00 [INF]     Invisibility timeout: 00:30:00.
2024-08-16 13:01:26.755 +03:00 [INF]     Use sliding invisibility timeout: False.
2024-08-16 13:01:26.755 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2024-08-16 13:01:26.755 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-08-16 13:01:26.770 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-16 13:01:26.770 +03:00 [INF] Server desktop-ihebt3k:12092:9ebb6309 successfully announced in 4,8669 ms
2024-08-16 13:01:26.774 +03:00 [INF] Hosting environment: Development
2024-08-16 13:01:26.775 +03:00 [INF] Server desktop-ihebt3k:12092:9ebb6309 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-08-16 13:01:26.780 +03:00 [INF] Content root path: C:\Users\KC\source\repos\StockFlow\API
2024-08-16 13:01:26.921 +03:00 [INF] Server desktop-ihebt3k:12092:9ebb6309 all the dispatchers started
2024-08-16 13:01:28.066 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/swagger/index.html - null null
2024-08-16 13:01:28.250 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 68.8653 ms
2024-08-16 13:01:28.254 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/swagger/index.html - 200 null text/html;charset=utf-8 196.2525ms
2024-08-16 13:01:28.261 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/_framework/aspnetcore-browser-refresh.js - null null
2024-08-16 13:01:28.261 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/_vs/browserLink - null null
2024-08-16 13:01:28.261 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/swagger/index.js - null null
2024-08-16 13:01:28.266 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 5.522ms
2024-08-16 13:01:28.271 +03:00 [INF] HTTP GET /swagger/index.js responded 200 in 1.6396 ms
2024-08-16 13:01:28.274 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/swagger/index.js - 200 null application/javascript;charset=utf-8 12.9748ms
2024-08-16 13:01:28.302 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.2058ms
2024-08-16 13:01:28.453 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/swagger/v1/swagger.json - null null
2024-08-16 13:01:28.594 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 135.1492 ms
2024-08-16 13:01:28.598 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 144.277ms
2024-08-16 13:01:35.041 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5285/api/deposit - application/json 92
2024-08-16 13:01:35.069 +03:00 [INF] Executing endpoint 'Core.Features.User.Deposit.DepositController.Deposit (API)'
2024-08-16 13:01:35.086 +03:00 [INF] Route matched with {action = "Deposit", controller = "Deposit"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Deposit(Core.Features.Deposit.DepositRequest) on controller Core.Features.User.Deposit.DepositController (API).
2024-08-16 13:01:35.246 +03:00 [INF] Start processing HTTP request GET https://api.frankfurter.app/latest?amount=100&from=TRY&to=USD
2024-08-16 13:01:35.248 +03:00 [INF] Sending HTTP request GET https://api.frankfurter.app/latest?amount=100&from=TRY&to=USD
2024-08-16 13:01:35.546 +03:00 [INF] Received HTTP response headers after 293.8316ms - 200
2024-08-16 13:01:35.549 +03:00 [INF] End processing HTTP request after 305.9149ms - 200
2024-08-16 13:01:35.878 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Balance", a."ConcurrencyStamp", a."Email", a."EmailConfirmationSentAt", a."EmailConfirmationToken", a."EmailConfirmed", a."FirstName", a."ImagePath", a."IsEmailConfirmed", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__get_Item_0
LIMIT 1
2024-08-16 13:01:36.046 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p2='?', @p3='?' (DbType = Guid), @p4='?' (DbType = Decimal), @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Guid), @p14='?' (DbType = Int32), @p15='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "Balance" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "Transactions" ("Id", "Amount", "CreatedBy", "CreatedDate", "DeletedBy", "DeletedDate", "Description", "IsDeleted", "ModifiedBy", "ModifiedDate", "StockHoldingItemId", "Type", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2024-08-16 13:01:36.071 +03:00 [INF] Executing OkObjectResult, writing value of type 'Core.Features.Deposit.DepositResponse'.
2024-08-16 13:01:36.081 +03:00 [INF] Executed action Core.Features.User.Deposit.DepositController.Deposit (API) in 988.1421ms
2024-08-16 13:01:36.082 +03:00 [INF] Executed endpoint 'Core.Features.User.Deposit.DepositController.Deposit (API)'
2024-08-16 13:01:36.083 +03:00 [INF] HTTP POST /api/deposit responded 200 in 1039.0867 ms
2024-08-16 13:01:36.088 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5285/api/deposit - 200 null application/json; charset=utf-8 1047.1854ms
2024-08-16 13:02:46.720 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-08-16 13:02:46.784 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-08-16 13:02:46.860 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2024-08-16 13:02:46.876 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-08-16 13:02:46.883 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-08-16 13:02:46.895 +03:00 [INF] Applying migration '20240816094404_XX'.
2024-08-16 13:02:46.972 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" uuid NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2024-08-16 13:02:46.984 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" uuid NOT NULL,
    "UserName" character varying(100) NOT NULL,
    "FirstName" character varying(50) NOT NULL,
    "LastName" character varying(50) NOT NULL,
    "Email" character varying(100) NOT NULL,
    "Balance" numeric(18,2) NOT NULL DEFAULT 0.0,
    "ImagePath" text NOT NULL,
    "IsEmailConfirmed" boolean NOT NULL,
    "EmailConfirmationToken" text,
    "EmailConfirmationSentAt" timestamp with time zone,
    "NormalizedUserName" character varying(100),
    "NormalizedEmail" character varying(100),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2024-08-16 13:02:46.995 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" uuid NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2024-08-16 13:02:47.007 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" uuid NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 13:02:47.017 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" character varying(128) NOT NULL,
    "ProviderKey" character varying(128) NOT NULL,
    "ProviderDisplayName" text,
    "UserId" uuid NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 13:02:47.026 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" uuid NOT NULL,
    "RoleId" uuid NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 13:02:47.034 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" uuid NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 13:02:47.043 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Orders" (
    "Id" uuid NOT NULL,
    "StockSymbol" text NOT NULL,
    "Quantity" integer NOT NULL,
    "TargetPrice" numeric NOT NULL,
    "UserId" uuid NOT NULL,
    "OrderType" integer NOT NULL,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_Orders" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Orders_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 13:02:47.050 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "StockHoldings" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "StockSymbol" character varying(6) NOT NULL,
    "Quantity" integer NOT NULL,
    "TotalPurchasePrice" numeric(18,2) NOT NULL,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_StockHoldings" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_StockHoldings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 13:02:47.058 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "StockPriceAlerts" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "StockSymbol" character varying(10) NOT NULL,
    "TargetPrice" numeric(18,2) NOT NULL,
    "IsTriggered" boolean NOT NULL,
    "TriggeredDate" timestamp with time zone,
    "AlertType" integer NOT NULL,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_StockPriceAlerts" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_StockPriceAlerts_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 13:02:47.065 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "OrderProcesses" (
    "Id" uuid NOT NULL,
    "OrderId" uuid NOT NULL,
    "Status" integer NOT NULL DEFAULT 0,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_OrderProcesses" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_OrderProcesses_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES "Orders" ("Id") ON DELETE CASCADE
);
2024-08-16 13:02:47.072 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "StockHoldingItems" (
    "Id" uuid NOT NULL,
    "StockSymbol" character varying(6) NOT NULL,
    "Quantity" integer NOT NULL,
    "UnitPrice" numeric(18,2) NOT NULL,
    "Type" integer NOT NULL,
    "OrderProcessId" uuid,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_StockHoldingItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_StockHoldingItems_OrderProcesses_OrderProcessId" FOREIGN KEY ("OrderProcessId") REFERENCES "OrderProcesses" ("Id")
);
2024-08-16 13:02:47.079 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Transactions" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "Amount" numeric(18,2) NOT NULL,
    "Type" integer NOT NULL,
    "Description" character varying(500) NOT NULL,
    "StockHoldingItemId" uuid,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_Transactions" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Transactions_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Transactions_StockHoldingItems_StockHoldingItemId" FOREIGN KEY ("StockHoldingItemId") REFERENCES "StockHoldingItems" ("Id")
);
2024-08-16 13:02:47.086 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES ('16ea936c-7a28-4c30-86a2-9a9704b6115e', 'fb87a7a5-adb9-4625-ac83-1041f1b09f32', 'Superadmin', 'SUPERADMIN');
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES ('7cb750cf-3612-4fb4-9f7d-a38ba8f16bf4', 'b242f89b-33b5-4ab9-a865-7be7553b9388', 'Admin', 'ADMIN');
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES ('edf6c246-41d8-475f-8d92-41dddac3aefb', 'df46c7f4-ddc8-49ff-87d8-4ac809f91418', 'User', 'USER');
2024-08-16 13:02:47.089 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Balance", "ConcurrencyStamp", "Email", "EmailConfirmationSentAt", "EmailConfirmationToken", "EmailConfirmed", "FirstName", "ImagePath", "IsEmailConfirmed", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES ('3aa42229-1c0f-4630-8c1a-db879ecd0427', 0, 1000000.0, 'd1c16bec-4847-4dff-aaef-f27c10fc3b8e', 'admin@gmail.com', TIMESTAMPTZ '2024-08-16T09:44:04.322394Z', 'bf65cd9d-44dc-4d65-bed6-69dd69f7a8b7', FALSE, 'Admin', 'API\deflogo.jpg', FALSE, 'User', FALSE, NULL, 'ADMIN@GMAIL.COM', 'ADMIN@GMAIL.COM', 'AQAAAAIAAYagAAAAEHUa9380lu7+I+PNtGAK95N4SvDqlIPcmJIsTh03ZrWC4W3OWgqCSP/C/ns8wpINxg==', '+905439999988', FALSE, '8722e468-96d3-4fc1-be82-67ebef84d418', FALSE, 'admin@gmail.com');
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Balance", "ConcurrencyStamp", "Email", "EmailConfirmationSentAt", "EmailConfirmationToken", "EmailConfirmed", "FirstName", "ImagePath", "IsEmailConfirmed", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES ('cb94223b-ccb8-4f2f-93d7-0df96a7f065c', 0, 1000000.0, '5a769c4e-9cd6-4cb4-b850-5d077e913c5b', 'superadmin@gmail.com', TIMESTAMPTZ '2024-08-16T09:44:04.237693Z', 'ad454fd1-13a5-40c9-9223-6f0a4baf8740', TRUE, 'Can', 'API\deflogo.jpg', FALSE, 'Mersin', FALSE, NULL, 'SUPERADMIN@GMAIL.COM', 'SUPERADMIN@GMAIL.COM', 'AQAAAAIAAYagAAAAEOShpAw5NtH1OqVOIOMIlO9n8oI/+SU3XRv/SW3jhf1R82SaMbyQBmtFlCPFBbM/YQ==', '+905439999999', TRUE, '2ab29ab4-15c1-4b21-8a88-34e7b0b8b706', FALSE, 'superadmin@gmail.com');
2024-08-16 13:02:47.093 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES ('7cb750cf-3612-4fb4-9f7d-a38ba8f16bf4', '3aa42229-1c0f-4630-8c1a-db879ecd0427');
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES ('16ea936c-7a28-4c30-86a2-9a9704b6115e', 'cb94223b-ccb8-4f2f-93d7-0df96a7f065c');
2024-08-16 13:02:47.098 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2024-08-16 13:02:47.104 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2024-08-16 13:02:47.110 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2024-08-16 13:02:47.115 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2024-08-16 13:02:47.121 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2024-08-16 13:02:47.127 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2024-08-16 13:02:47.133 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2024-08-16 13:02:47.140 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_OrderProcesses_OrderId" ON "OrderProcesses" ("OrderId");
2024-08-16 13:02:47.146 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Orders_UserId" ON "Orders" ("UserId");
2024-08-16 13:02:47.152 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_StockHoldingItems_OrderProcessId" ON "StockHoldingItems" ("OrderProcessId");
2024-08-16 13:02:47.157 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_StockHoldings_UserId" ON "StockHoldings" ("UserId");
2024-08-16 13:02:47.162 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_StockPriceAlerts_UserId" ON "StockPriceAlerts" ("UserId");
2024-08-16 13:02:47.168 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Transactions_StockHoldingItemId" ON "Transactions" ("StockHoldingItemId");
2024-08-16 13:02:47.172 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Transactions_UserId" ON "Transactions" ("UserId");
2024-08-16 13:02:47.175 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240816094404_XX', '8.0.8');
2024-08-16 13:02:47.335 +03:00 [INF] Start installing Hangfire SQL objects...
2024-08-16 13:02:47.364 +03:00 [INF] Hangfire SQL objects installed.
2024-08-16 13:02:47.383 +03:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: stockflowDB, Schema: hangfire'
2024-08-16 13:02:47.384 +03:00 [INF] Using the following options for PostgreSQL job storage:
2024-08-16 13:02:47.386 +03:00 [INF]     Queue poll interval: 00:00:15.
2024-08-16 13:02:47.387 +03:00 [INF]     Invisibility timeout: 00:30:00.
2024-08-16 13:02:47.388 +03:00 [INF]     Use sliding invisibility timeout: False.
2024-08-16 13:02:47.389 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 60
    Listening queues: 'high-priority', 'low-priority'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-08-16 13:02:47.571 +03:00 [INF] Server desktop-ihebt3k:17204:74b9f983 successfully announced in 154,2235 ms
2024-08-16 13:02:47.579 +03:00 [INF] Server desktop-ihebt3k:17204:74b9f983 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-08-16 13:02:48.050 +03:00 [INF] Server desktop-ihebt3k:17204:74b9f983 all the dispatchers started
2024-08-16 13:02:48.118 +03:00 [INF] User profile is available. Using 'C:\Users\KC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-16 13:02:48.175 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2024-08-16 13:02:48.176 +03:00 [INF] Quartz Scheduler created
2024-08-16 13:02:48.177 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2024-08-16 13:02:48.178 +03:00 [INF] RAMJobStore initialized.
2024-08-16 13:02:48.179 +03:00 [INF] Quartz Scheduler 3.13.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2024-08-16 13:02:48.180 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2024-08-16 13:02:48.181 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2024-08-16 13:02:48.189 +03:00 [INF] Adding 1 jobs, 1 triggers.
2024-08-16 13:02:48.192 +03:00 [INF] Adding job: DEFAULT.DeleteUnconfirmedUsersJob
2024-08-16 13:02:48.352 +03:00 [INF] Now listening on: http://localhost:5285
2024-08-16 13:02:48.354 +03:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: stockflowDB, Schema: hangfire'
2024-08-16 13:02:48.354 +03:00 [INF] Using the following options for PostgreSQL job storage:
2024-08-16 13:02:48.364 +03:00 [INF]     Queue poll interval: 00:00:15.
2024-08-16 13:02:48.365 +03:00 [INF]     Invisibility timeout: 00:30:00.
2024-08-16 13:02:48.365 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2024-08-16 13:02:48.365 +03:00 [INF]     Use sliding invisibility timeout: False.
2024-08-16 13:02:48.368 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-08-16 13:02:48.379 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-16 13:02:48.380 +03:00 [INF] Hosting environment: Development
2024-08-16 13:02:48.381 +03:00 [INF] Content root path: C:\Users\KC\source\repos\StockFlow\API
2024-08-16 13:02:48.382 +03:00 [INF] Server desktop-ihebt3k:17204:adbae496 successfully announced in 2,9987 ms
2024-08-16 13:02:48.387 +03:00 [INF] Server desktop-ihebt3k:17204:adbae496 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-08-16 13:02:48.530 +03:00 [INF] Server desktop-ihebt3k:17204:adbae496 all the dispatchers started
2024-08-16 13:02:48.792 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AlertType", s."CreatedBy", s."CreatedDate", s."DeletedBy", s."DeletedDate", s."IsDeleted", s."IsTriggered", s."ModifiedBy", s."ModifiedDate", s."StockSymbol", s."TargetPrice", s."TriggeredDate", s."UserId", a."Id", a."AccessFailedCount", a."Balance", a."ConcurrencyStamp", a."Email", a."EmailConfirmationSentAt", a."EmailConfirmationToken", a."EmailConfirmed", a."FirstName", a."ImagePath", a."IsEmailConfirmed", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "StockPriceAlerts" AS s
INNER JOIN "AspNetUsers" AS a ON s."UserId" = a."Id"
WHERE NOT (s."IsTriggered")
2024-08-16 13:02:48.792 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."CreatedBy", o."CreatedDate", o."DeletedBy", o."DeletedDate", o."IsDeleted", o."ModifiedBy", o."ModifiedDate", o."OrderId", o."Status", o0."Id", o0."CreatedBy", o0."CreatedDate", o0."DeletedBy", o0."DeletedDate", o0."IsDeleted", o0."ModifiedBy", o0."ModifiedDate", o0."OrderType", o0."Quantity", o0."StockSymbol", o0."TargetPrice", o0."UserId"
FROM "OrderProcesses" AS o
INNER JOIN "Orders" AS o0 ON o."OrderId" = o0."Id"
WHERE o."Status" = 0
2024-08-16 13:02:50.221 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/swagger/index.html - null null
2024-08-16 13:02:50.428 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 81.3682 ms
2024-08-16 13:02:50.434 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/swagger/index.html - 200 null text/html;charset=utf-8 222.631ms
2024-08-16 13:02:50.440 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/_framework/aspnetcore-browser-refresh.js - null null
2024-08-16 13:02:50.441 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/_vs/browserLink - null null
2024-08-16 13:02:50.441 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/swagger/index.js - null null
2024-08-16 13:02:50.447 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 7.5496ms
2024-08-16 13:02:50.452 +03:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.2440 ms
2024-08-16 13:02:50.456 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/swagger/index.js - 200 null application/javascript;charset=utf-8 15.6616ms
2024-08-16 13:02:50.479 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.5645ms
2024-08-16 13:02:50.652 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5285/swagger/v1/swagger.json - null null
2024-08-16 13:02:50.781 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 125.4305 ms
2024-08-16 13:02:50.783 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5285/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 131.471ms
2024-08-16 13:25:49.388 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-08-16 13:25:49.434 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-08-16 13:25:49.454 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-08-16 13:25:49.468 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-08-16 13:25:49.471 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-08-16 13:25:49.481 +03:00 [INF] Applying migration '20240816102454_YourMigrationName'.
2024-08-16 13:25:49.532 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetRoles" SET "ConcurrencyStamp" = 'a6571fdb-cd1e-4735-a618-ca082e5e0c3a'
WHERE "Id" = '16ea936c-7a28-4c30-86a2-9a9704b6115e';
2024-08-16 13:25:49.537 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetRoles" SET "ConcurrencyStamp" = '5f7878ed-0f02-4594-b6d6-8a98b6522b54'
WHERE "Id" = '7cb750cf-3612-4fb4-9f7d-a38ba8f16bf4';
2024-08-16 13:25:49.541 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetRoles" SET "ConcurrencyStamp" = '5b842c02-bc17-4e81-a4d2-568837581a7e'
WHERE "Id" = 'edf6c246-41d8-475f-8d92-41dddac3aefb';
2024-08-16 13:25:49.545 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "ConcurrencyStamp" = 'eecb852f-a850-4f20-9227-56e7d279085b', "EmailConfirmationSentAt" = TIMESTAMPTZ '2024-08-16T10:24:54.150507Z', "EmailConfirmationToken" = '1c924c70-062a-49d0-b2df-a500479bce77', "PasswordHash" = 'AQAAAAIAAYagAAAAEHy8f2UJ6UfMr1oYXY4rN9gFYINM/bm84CepLBa8BywTlenSloYb0BrT4RO3Bo5XYQ==', "SecurityStamp" = '5f6c1179-0815-4580-a508-a6c6f3280435'
WHERE "Id" = '3aa42229-1c0f-4630-8c1a-db879ecd0427';
2024-08-16 13:25:49.550 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "ConcurrencyStamp" = '6b782973-4ce7-4413-ad5a-e4f759d4d52a', "EmailConfirmationSentAt" = TIMESTAMPTZ '2024-08-16T10:24:54.049679Z', "EmailConfirmationToken" = '2ae83cc9-25ae-4662-88a3-64af261cfdec', "PasswordHash" = 'AQAAAAIAAYagAAAAEBqAQ6i8hybj2zDMAD3Dm5VqseQN/2ObvsWKlNqWkJ7azCKQXRbtjoKVtO5TJryBPg==', "SecurityStamp" = '59e51882-4915-49c8-9731-742d12293cab'
WHERE "Id" = 'cb94223b-ccb8-4f2f-93d7-0df96a7f065c';
2024-08-16 13:25:49.555 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240816102454_YourMigrationName', '8.0.8');
2024-08-16 17:08:45.444 +03:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-08-16 17:08:45.893 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-08-16 17:08:46.383 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2024-08-16 17:08:46.839 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-08-16 17:08:46.899 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-08-16 17:08:46.909 +03:00 [INF] Applying migration '20240816140523_XX'.
2024-08-16 17:08:47.040 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" uuid NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2024-08-16 17:08:47.104 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" uuid NOT NULL,
    "UserName" character varying(100) NOT NULL,
    "FirstName" character varying(50) NOT NULL,
    "LastName" character varying(50) NOT NULL,
    "Email" character varying(100) NOT NULL,
    "Balance" numeric(18,2) NOT NULL DEFAULT 0.0,
    "ImagePath" text NOT NULL,
    "IsEmailConfirmed" boolean NOT NULL,
    "EmailConfirmationToken" text,
    "EmailConfirmationSentAt" timestamp with time zone,
    "NormalizedUserName" character varying(100),
    "NormalizedEmail" character varying(100),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2024-08-16 17:08:47.170 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" uuid NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2024-08-16 17:08:47.242 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" uuid NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 17:08:47.310 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" character varying(128) NOT NULL,
    "ProviderKey" character varying(128) NOT NULL,
    "ProviderDisplayName" text,
    "UserId" uuid NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 17:08:47.371 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" uuid NOT NULL,
    "RoleId" uuid NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 17:08:47.446 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" uuid NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 17:08:47.512 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Orders" (
    "Id" uuid NOT NULL,
    "StockSymbol" text NOT NULL,
    "Quantity" integer NOT NULL,
    "TargetPrice" numeric NOT NULL,
    "UserId" uuid NOT NULL,
    "OrderType" integer NOT NULL,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_Orders" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Orders_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 17:08:47.576 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "StockHoldings" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "StockSymbol" character varying(6) NOT NULL,
    "Quantity" integer NOT NULL,
    "TotalPurchasePrice" numeric(18,2) NOT NULL,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_StockHoldings" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_StockHoldings_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 17:08:47.647 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "StockPriceAlerts" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "StockSymbol" character varying(10) NOT NULL,
    "TargetPrice" numeric(18,2) NOT NULL,
    "IsTriggered" boolean NOT NULL,
    "TriggeredDate" timestamp with time zone,
    "AlertType" integer NOT NULL,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_StockPriceAlerts" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_StockPriceAlerts_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-08-16 17:08:47.735 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "OrderProcesses" (
    "Id" uuid NOT NULL,
    "OrderId" uuid NOT NULL,
    "Status" integer NOT NULL DEFAULT 0,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_OrderProcesses" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_OrderProcesses_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES "Orders" ("Id") ON DELETE CASCADE
);
2024-08-16 17:08:47.803 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "StockHoldingItems" (
    "Id" uuid NOT NULL,
    "StockSymbol" character varying(6) NOT NULL,
    "Quantity" integer NOT NULL,
    "UnitPrice" numeric(18,2) NOT NULL,
    "Type" integer NOT NULL,
    "OrderProcessId" uuid,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_StockHoldingItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_StockHoldingItems_OrderProcesses_OrderProcessId" FOREIGN KEY ("OrderProcessId") REFERENCES "OrderProcesses" ("Id")
);
2024-08-16 17:08:47.869 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Transactions" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "Amount" numeric(18,2) NOT NULL,
    "Type" integer NOT NULL,
    "Description" character varying(500) NOT NULL,
    "StockHoldingItemId" uuid,
    "CreatedBy" text,
    "ModifiedBy" text,
    "DeletedBy" text,
    "CreatedDate" timestamp with time zone NOT NULL,
    "ModifiedDate" timestamp with time zone,
    "DeletedDate" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_Transactions" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Transactions_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Transactions_StockHoldingItems_StockHoldingItemId" FOREIGN KEY ("StockHoldingItemId") REFERENCES "StockHoldingItems" ("Id")
);
2024-08-16 17:08:47.928 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES ('16ea936c-7a28-4c30-86a2-9a9704b6115e', '29a163d9-e09b-4a91-9b74-b9a1022f51c2', 'Superadmin', 'SUPERADMIN');
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES ('7cb750cf-3612-4fb4-9f7d-a38ba8f16bf4', '637fb4ab-8a99-4116-961d-27807192284b', 'Admin', 'ADMIN');
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES ('edf6c246-41d8-475f-8d92-41dddac3aefb', 'fbe9e6b0-0ad3-4bf1-a01d-fc6703b05828', 'User', 'USER');
2024-08-16 17:08:47.990 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Balance", "ConcurrencyStamp", "Email", "EmailConfirmationSentAt", "EmailConfirmationToken", "EmailConfirmed", "FirstName", "ImagePath", "IsEmailConfirmed", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES ('3aa42229-1c0f-4630-8c1a-db879ecd0427', 0, 1000000.0, '97c31b3e-dfa8-41b9-b088-ec5238c6a17d', 'admin@gmail.com', TIMESTAMPTZ '2024-08-16T14:05:22.637154Z', '3be60d51-c173-44a1-bc3a-10e88ecc2c52', FALSE, 'Admin', 'API\deflogo.jpg', FALSE, 'User', FALSE, NULL, 'ADMIN@GMAIL.COM', 'ADMIN@GMAIL.COM', 'AQAAAAIAAYagAAAAEJ3fedRaTQlhycjBSuFbmT1TjasntrI0YGChOf8Q2PvJcXeF0KAyGYAkySj6d303Pg==', '+905439999988', FALSE, '9e874201-5882-4637-9065-f47e02e1756b', FALSE, 'admin@gmail.com');
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Balance", "ConcurrencyStamp", "Email", "EmailConfirmationSentAt", "EmailConfirmationToken", "EmailConfirmed", "FirstName", "ImagePath", "IsEmailConfirmed", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES ('cb94223b-ccb8-4f2f-93d7-0df96a7f065c', 0, 1000000.0, 'e057e436-ce13-426f-9453-73c4442158ed', 'superadmin@gmail.com', TIMESTAMPTZ '2024-08-16T14:05:22.574075Z', '0eb7d2b6-0614-4e8f-867d-c78d4093adec', TRUE, 'Can', 'API\deflogo.jpg', FALSE, 'Mersin', FALSE, NULL, 'SUPERADMIN@GMAIL.COM', 'SUPERADMIN@GMAIL.COM', 'AQAAAAIAAYagAAAAEG7ojHihygp6y4N6rdVyEYGigZSwNHUbrx04zV2S0ZUFLyyCEwyMCXWh1gPBxCTgEg==', '+905439999999', TRUE, '6c9c6ddb-7405-42cd-856b-2a642160001c', FALSE, 'superadmin@gmail.com');
2024-08-16 17:08:48.869 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES ('7cb750cf-3612-4fb4-9f7d-a38ba8f16bf4', '3aa42229-1c0f-4630-8c1a-db879ecd0427');
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES ('16ea936c-7a28-4c30-86a2-9a9704b6115e', 'cb94223b-ccb8-4f2f-93d7-0df96a7f065c');
2024-08-16 17:08:48.941 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2024-08-16 17:08:48.999 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2024-08-16 17:08:49.059 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2024-08-16 17:08:49.118 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2024-08-16 17:08:49.181 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2024-08-16 17:08:49.240 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2024-08-16 17:08:49.301 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2024-08-16 17:08:49.359 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_OrderProcesses_OrderId" ON "OrderProcesses" ("OrderId");
2024-08-16 17:08:49.418 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Orders_UserId" ON "Orders" ("UserId");
2024-08-16 17:08:49.479 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_StockHoldingItems_OrderProcessId" ON "StockHoldingItems" ("OrderProcessId");
2024-08-16 17:08:49.543 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_StockHoldings_UserId" ON "StockHoldings" ("UserId");
2024-08-16 17:08:49.601 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_StockPriceAlerts_UserId" ON "StockPriceAlerts" ("UserId");
2024-08-16 17:08:49.660 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Transactions_StockHoldingItemId" ON "Transactions" ("StockHoldingItemId");
2024-08-16 17:08:50.158 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Transactions_UserId" ON "Transactions" ("UserId");
2024-08-16 17:08:50.215 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240816140523_XX', '8.0.8');
